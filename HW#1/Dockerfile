# Берем образ python
FROM python:3.9.16-alpine3.17
# Задаем аргументы, который будем принимать при билде, адргумент animal будет дефолтным
ARG animal=cow
ARG text
# Устанавливаем нужную библиотеку
RUN pip install cowsay
# Копируем себе файл, который содержит наше приложение
COPY main.py docker/main.py
# Задаем в баше переменные окружения, чтобы потом он мог их прочитать в командной строке
ENV animal=$animal
ENV text=$text
# Запускаем наше приложения, передовая нужные аргументы. 
# Если аргумент при билде не поступал, то он будет пустым и при передаче в скрипт (если не установлено дефолтное значение)
CMD ["sh", "-c", "python /docker/main.py $animal $text"]
